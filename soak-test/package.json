{
  "name": "soak-test",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "prebuild": "shx rm -rf dist",
    "postbuild": "dependency-check package.json --no-dev --missing ./dist/**/*.js",
    "build:tsc": "tsc",
    "build": "npm-run-all -s clean generate build:*",
    "clean": "npm-run-all -s clean:*",
    "clean:dist": "rimraf dist",
    "clean:yaml-files": "rimraf generated/yaml-file/*.yaml",
    "predev": "npm-run-all build",
    "dev": "npm-run-all --parallel start watch",
    "webpack": "shx rm -rf dist && webpack",
    "generate": "npm-run-all -s generate:ts-from-yaml:*",
    "generate:ts-from-yaml:wallet-migration-nexi-v1": "shx rm -rf src/generated/wallet-migration-nexi-v1 && shx mkdir -p src/generated/wallet-migration-nexi-v1 && gen-api-models --api-spec https://raw.githubusercontent.com/pagopa/pagopa-infra/main/src/domains/wallet-app/api/payment-wallet-migrations/v1/_openapi.json.tpl --no-strict --out-dir src/generated/wallet-migration-nexi-v1",
    "generate:ts-from-yaml:wallet-migration-v1": "shx rm -rf src/generated/wallet-migration-v1 && shx mkdir -p src/generated/wallet-migration-v1 && gen-api-models --api-spec https://raw.githubusercontent.com/pagopa/pagopa-infra/main/src/domains/wallet-app/api/payment-wallet-migrations-for-cstar/v1/_openapi.json.tpl --no-strict --out-dir src/generated/wallet-migration-v1",
    "generate:ts-from-yaml:wallet": "shx rm -rf src/generated/wallet && shx mkdir -p src/generated/wallet && gen-api-models --api-spec https://raw.githubusercontent.com/pagopa/pagopa-infra/main/src/domains/pay-wallet-app/api/payment-wallet/v1/_openapi.json.tpl --no-strict --out-dir src/generated/wallet",
    "generate:ts-from-yaml:wallet-webview": "shx rm -rf src/generated/wallet-webview && shx mkdir -p src/generated/wallet-webview && gen-api-models --api-spec https://raw.githubusercontent.com/pagopa/pagopa-infra/main/src/domains/pay-wallet-app/api/webview-payment-wallet/v1/_openapi.json.tpl --no-strict --out-dir src/generated/wallet-webview",   
    "soak-migration": "shx rm -rf dist && webpack && docker run --env-file .env -it --rm -v $(pwd)/dist:/dist grafana/k6 run /dist/soak-test-migration.js --summary-trend-stats \"avg,min,med,max,p(90),p(95),p(99)\"",
    "soak-onboard-wallet": "shx rm -rf dist && webpack && docker run --env-file .env -it --rm -v $(pwd)/dist:/dist grafana/k6 run /dist/soak-test-onboard-wallet.js --summary-trend-stats \"avg,min,med,max,p(90),p(95),p(99)\"",
    "soak-get-wallets": "shx rm -rf dist && webpack && docker run --env-file .env -it --rm -v $(pwd)/dist:/dist grafana/k6 run /dist/soak-test-get-wallets-by-user.js --summary-trend-stats \"avg,min,med,max,p(90),p(95),p(99)\""
  },
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@babel/core": "^7.24.7",
    "@babel/plugin-proposal-class-properties": "^7.18.6",
    "@babel/plugin-proposal-object-rest-spread": "^7.20.7",
    "@babel/preset-env": "^7.24.7",
    "@babel/preset-typescript": "^7.24.7",
    "@pagopa/openapi-codegen-ts": "^13.2.0",
    "@types/k6": "^0.51.0",
    "@types/webpack": "^5.28.5",
    "babel-loader": "^9.1.3",
    "clean-webpack-plugin": "^4.0.0",
    "copy-webpack-plugin": "^12.0.2",
    "dependency-check": "^4.1.0",
    "npm-run-all": "^4.1.5",
    "prettier": "^3.3.2",
    "shx": "^0.3.4",
    "typescript": "^5.4.5",
    "webpack-cli": "^5.1.4",
    "webpack-glob-entries": "^1.0.1"
  },
  "dependencies": {
    "@pagopa/ts-commons": "^13.1.1",
    "@types/uuid": "^9.0.8",
    "fp-ts": "^2.16.6",
    "io-ts": "^2.2.21",
    "k6": "0.0.0",
    "k6-stat": "^1.0.6",
    "ts-loader": "^9.5.1",
    "k6-utils": "1.4.0"
  }
}
